<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMW M3 E46 GTR - Технические данные</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Основные стили */
        :root {
            --primary: #0066b1;
            --secondary: #e62300;
            --dark: #1a1a1a;
            --light: #f5f5f5;
            --gray: #6d6d6d;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            color: var(--dark);
            background-color: var(--light);
            overflow-x: hidden;
        }

        /* Курсор */
        .custom-cursor {
            position: fixed;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: rgba(0, 102, 179, 0.8);
            pointer-events: none;
            transform: translate(-50%, -50%);
            transition: transform 0.1s ease-out, width 0.2s, height 0.2s, background-color 0.2s;
            z-index: 1000;
            mix-blend-mode: screen;
            display: none;
        }

        .cursor-light {
            position: fixed;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: rgba(0, 102, 179, 0.3);
            pointer-events: none;
            transform: translate(-50%, -50%);
            transition: all 0.2s ease-out;
            z-index: 999;
            filter: blur(5px);
            display: none;
        }

        /* Шапка */
        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            background-color: rgba(255,255,255,0.9);
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
        }

        .logo {
            font-weight: 700;
            font-size: 24px;
            color: var(--primary);
        }

        .logo span {
            color: var(--secondary);
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li {
            margin-left: 30px;
        }

        nav ul li a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            transition: color 0.3s;
            position: relative;
        }

        nav ul li a:hover {
            color: var(--primary);
        }

        nav ul li a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--primary);
            transition: width 0.3s;
        }

        nav ul li a:hover::after {
            width: 100%;
        }

        /* Герой секция */
        .hero {
            height: 70vh;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .hero-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url("video.mp4") center/cover no-repeat;
            z-index: -1;
            transform: scale(1.1);
            transition: transform 8s ease-out;
        }

        .hero:hover .hero-bg {
            transform: scale(1);
        }

        .hero-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 40px;
            transform: translateY(50px);
            opacity: 0;
            animation: fadeInUp 1s ease-out 0.5s forwards;
        }

        .hero h1 {
            font-size: 72px;
            font-weight: 700;
            margin-bottom: 20px;
            color: white;
            text-shadow: 0 2px 10px rgba(0,0,0,0.5);
        }

        .hero p {
            font-size: 24px;
            color: white;
            max-width: 600px;
            margin-bottom: 40px;
            text-shadow: 0 2px 5px rgba(0,0,0,0.5);
        }

        .btn {
            display: inline-block;
            padding: 15px 30px;
            background-color: var(--primary);
            color: white;
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            transition: all 0.3s;
            border: 2px solid var(--primary);
        }

        .btn:hover {
            background-color: transparent;
            color: white;
            border-color: white;
        }

        /* Секции */
        .section {
            padding: 100px 40px;
            position: relative;
        }

        .section-title {
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 60px;
            text-align: center;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background-color: var(--primary);
        }

        /* Таблица */
        .table-container {
            max-width: 1200px;
            margin: 0 auto;
            overflow-x: auto;
            box-shadow: 0 5px 25px rgba(0,0,0,0.1);
            border-radius: 10px;
            background-color: white;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 16px;
        }

        .data-table th, .data-table td {
            padding: 15px 20px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .data-table th {
            background-color: var(--primary);
            color: white;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 14px;
            letter-spacing: 0.5px;
        }

        .data-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        .data-table tr:hover {
            background-color: #f1f1f1;
        }

        .data-table td.highlight {
            color: var(--secondary);
            font-weight: 600;
        }

        .table-caption {
            margin-top: 20px;
            font-size: 14px;
            color: var(--gray);
            text-align: center;
        }

        /* Подвал */
        footer {
            background-color: var(--dark);
            color: white;
            padding: 60px 40px;
            text-align: center;
        }

        .footer-logo {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 20px;
        }

        .footer-logo span {
            color: var(--secondary);
        }

        .footer-links {
            display: flex;
            justify-content: center;
            list-style: none;
            margin-bottom: 30px;
        }

        .footer-links li {
            margin: 0 15px;
        }

        .footer-links a {
            color: white;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-links a:hover {
            color: var(--primary);
        }

        .copyright {
            color: var(--gray);
            font-size: 14px;
        }

        /* Анимации */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Адаптив */
        @media (max-width: 992px) {
            .hero h1 {
                font-size: 56px;
            }

            .hero p {
                font-size: 20px;
            }

            .section-title {
                font-size: 36px;
            }
        }

        @media (max-width: 768px) {
            header {
                padding: 15px 20px;
            }

            .logo {
                font-size: 20px;
            }

            nav ul li {
                margin-left: 15px;
            }

            .hero h1 {
                font-size: 42px;
            }

            .hero p {
                font-size: 18px;
            }

            .section {
                padding: 60px 20px;
            }

            .section-title {
                font-size: 32px;
                margin-bottom: 40px;
            }

            .data-table th, .data-table td {
                padding: 10px 15px;
                font-size: 14px;
            }
        }

        /* Стили для курсора */
        .cursor-trail {
            position: fixed;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background-color: var(--primary);
            pointer-events: none;
            z-index: 998;
            transform: translate(-50%, -50%);
            opacity: 0.7;
        }

        /* Эффект при наведении на кликабельные элементы */
        a, button, .btn, .game-card, .gallery-item, .spec-card, .timeline-content {
            cursor: none;
        }

        .table-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .sort-btn {
            padding: 10px 20px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .sort-btn:hover {
            background-color: var(--secondary);
        }

        .sort-btn i {
            font-size: 18px;
        }

        .search-box {
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 50px;
            width: 250px;
            font-size: 16px;
        }

        .sort-options {
            display: flex;
            gap: 10px;
        }

        .sort-option {
            padding: 8px 15px;
            background-color: #f0f0f0;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .sort-option.active {
            background-color: var(--primary);
            color: white;
        }
        /* Стили для видео */
.video-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
    background-color: #f5f5f5;
    border-radius: 10px;
    box-shadow: 0 5px 25px rgba(0,0,0,0.1);
}

.video-container video {
    width: 100%;
    border-radius: 10px;
}

    </style>
</head>
<body>
    <!-- Курсор и эффект света -->
    <div class="custom-cursor" id="customCursor"></div>
    <div class="cursor-light" id="cursorLight"></div>
    <div id="cursor-trail-container"></div>

    <!-- Шапка -->
    <header>
        <div class="logo">BMW <span>M3 GTR</span></div>
        <nav>
            <ul>
                <li><a href="StoryOfM3GTR.html">Главная</a></li>
                <li><a href="table.html">Технические данные</a></li>
                <li><a href="#gallery">Галерея</a></li>
                <li><a href="#games">В играх</a></li>
            </ul>
        </nav>
    </header>

    <!-- Герой секция -->
    <section class="hero">
        <div class="hero-bg"></div>
        <div class="hero-content">
            <h1>Технические данные</h1>
            <p>Полные характеристики и параметры BMW M3 E46 GTR</p>
            <a href="#table" class="btn">К таблице</a>
        </div>
    </section>

    <!-- Таблица -->
    <section class="section" id="table">
        <h2 class="section-title">Технические характеристики</h2>

        <!-- Добавленные элементы управления таблицей -->
        <div class="table-controls">
            <div class="sort-options">
                <div class="sort-option active" data-sort="original">Исходный порядок</div>
                <div class="sort-option" data-sort="parameter">По параметру (А-Я)</div>
                <div class="sort-option" data-sort="value">По значению</div>
            </div>

            <input type="text" class="search-box" placeholder="Поиск по таблице..." id="searchInput">
        </div>

        <div class="table-container">
            <table class="data-table" id="specsTable">
                <thead>
                    <tr>
                        <th>Параметр</th>
                        <th>Значение</th>
                        <th>Примечание</th>
                    </tr>
                </thead>
                <tbody>
                    <tr data-param="Годы производства">
                        <td>Годы производства</td>
                        <td>2001-2003</td>
                        <td>Только для гоночных целей</td>
                    </tr>
                    <tr data-param="Тип двигателя">
                        <td>Тип двигателя</td>
                        <td>P60B40 V8</td>
                        <td>Специально разработан для гонок</td>
                    </tr>
                    <tr data-param="Объем двигателя">
                        <td>Объем двигателя</td>
                        <td>3997 см³</td>
                        <td></td>
                    </tr>
                    <tr data-param="Мощность">
                        <td>Мощность</td>
                        <td class="highlight">444 л.с. @ 7500 об/мин</td>
                        <td>Максимальная мощность</td>
                    </tr>
                    <tr data-param="Крутящий момент">
                        <td>Крутящий момент</td>
                        <td>500 Н·м @ 5500 об/мин</td>
                        <td></td>
                    </tr>
                    <tr data-param="Трансмиссия">
                        <td>Трансмиссия</td>
                        <td>6-ступенчатая механическая</td>
                        <td>Секвентальная опционально</td>
                    </tr>
                    <tr data-param="Привод">
                        <td>Привод</td>
                        <td>Задний</td>
                        <td>Дифференциал повышенного трения</td>
                    </tr>
                    <tr data-param="Разгон 0-100 км/ч">
                        <td>Разгон 0-100 км/ч</td>
                        <td class="highlight">4.7 сек</td>
                        <td>Для дорожной версии</td>
                    </tr>
                    <tr data-param="Максимальная скорость">
                        <td>Максимальная скорость</td>
                        <td>300 км/ч</td>
                        <td>Ограничена электроникой</td>
                    </tr>
                    <tr data-param="Тормоза передние">
                        <td>Тормоза передние</td>
                        <td>6-поршневые суппорты, диски 380 мм</td>
                        <td>Карбон-керамические опционально</td>
                    </tr>
                    <tr data-param="Тормоза задние">
                        <td>Тормоза задние</td>
                        <td>4-поршневые суппорты, диски 328 мм</td>
                        <td></td>
                    </tr>
                    <tr data-param="Подвеска">
                        <td>Подвеска</td>
                        <td>Независимая, пружины и амортизаторы</td>
                        <td>Регулируемая настройка</td>
                    </tr>
                    <tr data-param="Шины передние">
                        <td>Шины передние</td>
                        <td>265/35 ZR18</td>
                        <td>Слик или полуслик</td>
                    </tr>
                    <tr data-param="Шины задние">
                        <td>Шины задние</td>
                        <td>285/30 ZR18</td>
                        <td>Слик или полуслик</td>
                    </tr>
                    <tr data-param="Масса">
                        <td>Масса</td>
                        <td>1200 кг</td>
                        <td>Для гоночной версии</td>
                    </tr>
                    <tr data-param="Расход топлива">
                        <td>Расход топлива</td>
                        <td>18 л/100 км</td>
                        <td>В гоночных условиях до 45 л/100 км</td>
                    </tr>
                    <tr data-param="Топливный бак">
                        <td>Топливный бак</td>
                        <td>120 л</td>
                        <td>Для гоночной версии</td>
                    </tr>
                    <tr data-param="Цена (новый)">
                        <td>Цена (новый)</td>
                        <td class="highlight">~250,000 €</td>
                        <td>Для дорожной версии (2001 г.)</td>
                    </tr>
                </tbody>
            </table>
            <p class="table-caption">* Все данные приведены для гоночной версии, если не указано иное</p>
        </div>
    </section>
    <!-- Видео под таблицей -->
    <section class="section" id="video">
        <h2 class="section-title">Видео обзор BMW M3 E46 GTR</h2>
            <div class="video-container">
                 <video controls width="100%">
            <source src="video.mp4" type="video/mp4">
            Ваш браузер не поддерживает видео.
        </video>
    </div>
</section>


    <!-- Подвал -->
    <footer>
        <div class="footer-logo">BMW <span>M3 GTR</span></div>
        <ul class="footer-links">
            <li><a href="StoryOfM3GTR.html">Главная</a></li>
            <li><a href="table.html">Технические данные</a></li>
            <li><a href="#gallery">Галерея</a></li>
            <li><a href="#games">В играх</a></li>
        </ul>
        <p class="copyright">© 2023 BMW M3 E46 GTR Legacy. Все права защищены.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Инициализация кастомного курсора
            const customCursor = document.getElementById('customCursor');
            const cursorLight = document.getElementById('cursorLight');
            const trailContainer = document.getElementById('cursor-trail-container');

            // Показываем кастомные курсоры
            customCursor.style.display = 'block';
            cursorLight.style.display = 'block';

            // Основное движение курсора
            document.addEventListener('mousemove', (e) => {
                customCursor.style.transform = `translate(${e.clientX}px, ${e.clientY}px)`;
                cursorLight.style.transform = `translate(${e.clientX}px, ${e.clientY}px)`;
            });

            // Настройки следа курсора
            const trailLength = 15;
            const trailParticles = [];

            // Создаем частицы следа
            for (let i = 0; i < trailLength; i++) {
                const particle = document.createElement('div');
                particle.className = 'cursor-trail';
                particle.style.opacity = 0;
                trailContainer.appendChild(particle);
                trailParticles.push({
                    element: particle,
                    x: 0,
                    y: 0,
                    delay: i * 0.03,
                    lastTime: 0
                });
            }

            // Позиции курсора
            let mouseX = 0;
            let mouseY = 0;
            let lastTime = 0;

            // Анимация следа курсора
            function animateTrail(timestamp) {
                if (!lastTime) lastTime = timestamp;
                const deltaTime = timestamp - lastTime;
                lastTime = timestamp;

                trailParticles.forEach((particle, index) => {
                    setTimeout(() => {
                        const dx = mouseX - particle.x;
                        const dy = mouseY - particle.y;

                        particle.x += dx * 0.1;
                        particle.y += dy * 0.1;

                        particle.element.style.transform = `translate(${particle.x}px, ${particle.y}px)`;
                        particle.element.style.opacity = 0.7 - (index / trailLength) * 0.6;

                        const size = 6 - (index / trailLength) * 4;
                        particle.element.style.width = `${size}px`;
                        particle.element.style.height = `${size}px`;

                        if (customCursor.style.backgroundColor === 'var(--secondary)') {
                            particle.element.style.backgroundColor = 'var(--secondary)';
                        } else {
                            particle.element.style.backgroundColor = 'var(--primary)';
                        }
                    }, index * 10);
                });

                requestAnimationFrame(animateTrail);
            }

            // Запускаем анимацию следа
            requestAnimationFrame(animateTrail);

            // Эффекты при наведении на интерактивные элементы
            const interactiveElements = document.querySelectorAll(
                'a, button, .btn, .data-table tr, .sort-option'
            );

            interactiveElements.forEach(el => {
                el.addEventListener('mouseenter', () => {
                    customCursor.style.width = '30px';
                    customCursor.style.height = '30px';
                    customCursor.style.backgroundColor = 'var(--secondary)';
                    cursorLight.style.width = '80px';
                    cursorLight.style.height = '80px';
                    cursorLight.style.backgroundColor = 'rgba(230, 35, 0, 0.4)';
                });

                el.addEventListener('mouseleave', () => {
                    customCursor.style.width = '20px';
                    customCursor.style.height = '20px';
                    customCursor.style.backgroundColor = 'rgba(0, 102, 179, 0.8)';
                    cursorLight.style.width = '60px';
                    cursorLight.style.height = '60px';
                    cursorLight.style.backgroundColor = 'rgba(0, 102, 179, 0.3)';
                });
            });

            // Плавная прокрутка для меню
            document.querySelectorAll('nav a').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    if (this.getAttribute('href').startsWith('#')) {
                        e.preventDefault();

                        const targetId = this.getAttribute('href');
                        const targetElement = document.querySelector(targetId);

                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });
                    }
                });
            });

            // Параллакс для героя
            window.addEventListener('mousemove', function(e) {
                const heroBg = document.querySelector('.hero-bg');
                if (heroBg) {
                    const x = e.clientX / window.innerWidth;
                    const y = e.clientY / window.innerHeight;
                    heroBg.style.transform = `scale(1.1) translate(${x * 20 - 10}px, ${y * 20 - 10}px)`;
                }
            });

            // Подсветка строк таблицы при наведении
            const tableRows = document.querySelectorAll('.data-table tr');
            tableRows.forEach(row => {
                row.addEventListener('mouseenter', function() {
                    this.style.backgroundColor = '#f5f5f5';
                    this.style.transition = 'background-color 0.2s ease';
                });

                row.addEventListener('mouseleave', function() {
                    const index = Array.from(this.parentNode.children).indexOf(this);
                    if (index % 2 === 0) {
                        this.style.backgroundColor = '#fff';
                    } else {
                        this.style.backgroundColor = '#f9f9f9';
                    }
                });
            });

            // Функционал сортировки таблицы
            const table = document.getElementById('specsTable');
            const tbody = table.querySelector('tbody');
            const rows = Array.from(tbody.querySelectorAll('tr'));
            const sortOptions = document.querySelectorAll('.sort-option');
            const searchInput = document.getElementById('searchInput');

            // Сохраняем исходный порядок строк
            const originalOrder = rows.map(row => row.cloneNode(true));

            // Функция сортировки таблицы
            function sortTable(sortBy) {
                const sortedRows = Array.from(rows);

                switch(sortBy) {
                    case 'parameter':
                        sortedRows.sort((a, b) => {
                            const paramA = a.cells[0].textContent.toLowerCase();
                            const paramB = b.cells[0].textContent.toLowerCase();
                            return paramA.localeCompare(paramB);
                        });
                        break;

                    case 'value':
                        sortedRows.sort((a, b) => {
                            const valueA = a.cells[1].textContent.toLowerCase();
                            const valueB = b.cells[1].textContent.toLowerCase();
                            return valueA.localeCompare(valueB);
                        });
                        break;

                    default: // original
                        return resetTable();
                }

                // Очищаем tbody и добавляем отсортированные строки
                tbody.innerHTML = '';
                sortedRows.forEach(row => tbody.appendChild(row));
            }

            // Функция сброса таблицы в исходное состояние
            function resetTable() {
                tbody.innerHTML = '';
                originalOrder.forEach(row => tbody.appendChild(row.cloneNode(true)));
            }

            // Обработчики для кнопок сортировки
            sortOptions.forEach(option => {
                option.addEventListener('click', function() {
                    // Удаляем класс active у всех кнопок
                    sortOptions.forEach(opt => opt.classList.remove('active'));
                    // Добавляем класс active текущей кнопке
                    this.classList.add('active');
                    // Сортируем таблицу
                    sortTable(this.dataset.sort);
                });
            });

            // Функция поиска по таблице
            function searchTable() {
                const searchTerm = searchInput.value.toLowerCase();

                rows.forEach(row => {
                    const param = row.cells[0].textContent.toLowerCase();
                    const value = row.cells[1].textContent.toLowerCase();
                    const note = row.cells[2].textContent.toLowerCase();

                    if (param.includes(searchTerm) || value.includes(searchTerm) || note.includes(searchTerm)) {
                        row.style.display = '';
                    } else {
                        row.style.display = 'none';
                    }
                });
            }

            // Обработчик события ввода в поле поиска
            searchInput.addEventListener('input', searchTable);
        });
    </script>
</body>
</html>
